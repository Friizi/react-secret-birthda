{"ast":null,"code":"var _jsxFileName = \"/Users/friizi/Documents/Project/node/secret-birthday/react/src/components/AdminPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { classNames } from \"primereact/utils\";\nimport axios from \"axios\"; // Importez Axios pour effectuer des appels API\nimport Menu from \"./Menu\"; // Importez le composant Menu\nimport \"./AdminPage.css\";\nimport secretStoryLogo from \"./images/Secret_Story_Logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminPage = () => {\n  _s();\n  const [randomizedRankings, setRandomizedRankings] = useState([]);\n  const [nominator, setNominator] = useState(\"\");\n  const [nominee, setNominee] = useState(\"\");\n  const [secret, setSecret] = useState(\"\");\n  useEffect(() => {\n    // Chargez les données du classement à partir du backend au chargement de la page\n    fetchRankings();\n  }, []);\n  const fetchRankings = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:3001/rankings\");\n      const rankings = response.data;\n      // Copiez le tableau rankings pour le trier aléatoirement\n      const shuffledRankings = [...rankings];\n      // Triez le tableau aléatoirement (si vous le souhaitez)\n      // shuffledRankings.sort(() => Math.random() - 0.5);\n      // Mettez à jour l'état avec le tableau trié aléatoirement\n      setRandomizedRankings(shuffledRankings);\n    } catch (error) {\n      console.error(\"Erreur lors de la récupération du classement : \", error);\n    }\n  };\n  const handleNomination = async () => {\n    // Effectuez l'appel API pour la nomination avec Axios\n    try {\n      const response = await axios.post(\"http://localhost:3001/nominate\", {\n        nominator,\n        nominee,\n        secret\n      });\n      console.log(\"Nomination réussie ! Réponse du serveur : \", response.data);\n\n      // Réinitialisez les champs après la nomination\n      setNominator(\"\");\n      setNominee(\"\");\n      setSecret(\"\");\n    } catch (error) {\n      console.error(\"Erreur lors de la nomination : \", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: secretStoryLogo,\n      alt: \"Logo Secret Story\",\n      className: \"logo\",\n      style: {\n        width: \"300px\",\n        height: \"auto\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(Menu, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nomination-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Nomination\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nominator:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: nominator,\n            onChange: e => setNominator(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nominee:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: nominee,\n            onChange: e => setNominee(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Secret:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: secret,\n            onChange: e => setSecret(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          label: \"Nominate\",\n          icon: \"pi pi-check\",\n          onClick: handleNomination\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), randomizedRankings.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rankings\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Rankings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: randomizedRankings.map((ranking, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [index + 1, \". \", ranking.nom, \" - \", ranking.cagnotte, \" \\u20AC\"]\n          }, ranking._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading rankings...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminPage, \"2ocpUskeeVUPm0SL4mBfyyPsg2Y=\");\n_c = AdminPage;\nexport default AdminPage;\nvar _c;\n$RefreshReg$(_c, \"AdminPage\");","map":{"version":3,"names":["React","useState","useEffect","Card","Button","classNames","axios","Menu","secretStoryLogo","jsxDEV","_jsxDEV","AdminPage","_s","randomizedRankings","setRandomizedRankings","nominator","setNominator","nominee","setNominee","secret","setSecret","fetchRankings","response","get","rankings","data","shuffledRankings","error","console","handleNomination","post","log","className","children","src","alt","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","label","icon","onClick","length","map","ranking","index","nom","cagnotte","_id","_c","$RefreshReg$"],"sources":["/Users/friizi/Documents/Project/node/secret-birthday/react/src/components/AdminPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { classNames } from \"primereact/utils\";\nimport axios from \"axios\"; // Importez Axios pour effectuer des appels API\nimport Menu from \"./Menu\"; // Importez le composant Menu\nimport \"./AdminPage.css\";\nimport secretStoryLogo from \"./images/Secret_Story_Logo.png\";\n\nconst AdminPage = () => {\n  const [randomizedRankings, setRandomizedRankings] = useState([]);\n  const [nominator, setNominator] = useState(\"\");\n  const [nominee, setNominee] = useState(\"\");\n  const [secret, setSecret] = useState(\"\");\n\n  useEffect(() => {\n    // Chargez les données du classement à partir du backend au chargement de la page\n    fetchRankings();\n  }, []);\n\n  const fetchRankings = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:3001/rankings\");\n      const rankings = response.data;\n      // Copiez le tableau rankings pour le trier aléatoirement\n      const shuffledRankings = [...rankings];\n      // Triez le tableau aléatoirement (si vous le souhaitez)\n      // shuffledRankings.sort(() => Math.random() - 0.5);\n      // Mettez à jour l'état avec le tableau trié aléatoirement\n      setRandomizedRankings(shuffledRankings);\n    } catch (error) {\n      console.error(\"Erreur lors de la récupération du classement : \", error);\n    }\n  };\n\n  const handleNomination = async () => {\n    // Effectuez l'appel API pour la nomination avec Axios\n    try {\n      const response = await axios.post(\"http://localhost:3001/nominate\", {\n        nominator,\n        nominee,\n        secret,\n      });\n\n      console.log(\"Nomination réussie ! Réponse du serveur : \", response.data);\n\n      // Réinitialisez les champs après la nomination\n      setNominator(\"\");\n      setNominee(\"\");\n      setSecret(\"\");\n    } catch (error) {\n      console.error(\"Erreur lors de la nomination : \", error);\n    }\n  };\n\n  return (\n    <div className=\"admin-page\">\n      <img\n        src={secretStoryLogo}\n        alt=\"Logo Secret Story\"\n        className=\"logo\"\n        style={{ width: \"300px\", height: \"auto\" }}\n      />\n      <Card className=\"card\">\n        <Menu />\n        <div className=\"nomination-form\">\n          <h2>Nomination</h2>\n          <div className=\"form-row\">\n            <label>Nominator:</label>\n            <input\n              type=\"text\"\n              value={nominator}\n              onChange={(e) => setNominator(e.target.value)}\n            />\n          </div>\n          <div className=\"form-row\">\n            <label>Nominee:</label>\n            <input\n              type=\"text\"\n              value={nominee}\n              onChange={(e) => setNominee(e.target.value)}\n            />\n          </div>\n          <div className=\"form-row\">\n            <label>Secret:</label>\n            <input\n              type=\"text\"\n              value={secret}\n              onChange={(e) => setSecret(e.target.value)}\n            />\n          </div>\n          <Button\n            label=\"Nominate\"\n            icon=\"pi pi-check\"\n            onClick={handleNomination}\n          />\n        </div>\n        {randomizedRankings.length > 0 ? (\n          <div className=\"rankings\">\n            <h2>Rankings</h2>\n            <ul>\n              {randomizedRankings.map((ranking, index) => (\n                <li key={ranking._id}>\n                  {index + 1}. {ranking.nom} - {ranking.cagnotte} €\n                </li>\n              ))}\n            </ul>\n          </div>\n        ) : (\n          <div>Loading rankings...</div>\n        )}\n      </Card>\n    </div>\n  );\n};\n\nexport default AdminPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}